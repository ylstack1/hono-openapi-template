# ==============================================================================
# BaaS Workers - Environment Configuration
# ==============================================================================
# Copy this file to .dev.vars (for Wrangler local dev) or set in Cloudflare dashboard

# ==============================================================================
# Application Configuration
# ==============================================================================
# Defines the environment in which the application is running.
# Allowed values: "development", "staging", "production"
NODE_ENV="development"

# ------------------------------------------------------------------------------
# Authentication
# ------------------------------------------------------------------------------
# Secret key used for signing and verifying JWT tokens.
# Generate a new key before deploying to staging/production:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="__CHANGE_ME__"

# JWT token expiration times
JWT_ACCESS_TOKEN_EXPIRY="15m"   # 15 minutes
JWT_REFRESH_TOKEN_EXPIRY="7d"   # 7 days

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
# Defines the level of logging detail.
# Available options:
# - fatal   : Critical errors causing application shutdown
# - error   : Errors that require attention
# - warn    : Warnings that may indicate potential issues
# - info    : General informational messages
# - debug   : Debugging messages (development use)
# - trace   : Highly detailed trace messages
# - silent  : Disable all logging
LOG_LEVEL="debug"

# ==============================================================================
# Cloudflare Integration
# ==============================================================================
# Cloudflare account identifier.
CLOUDFLARE_ACCOUNT_ID="__YOUR_CLOUDFLARE_ACCOUNT_ID__"

# API token with sufficient permissions to manage D1 Databases, KV, R2, etc.
# Create and manage tokens securely in your Cloudflare dashboard.
CLOUDFLARE_API_TOKEN="__YOUR_CLOUDFLARE_API_TOKEN__"

# ------------------------------------------------------------------------------
# Database (D1)
# ------------------------------------------------------------------------------
# D1 database ID (automatically bound in wrangler.toml)
# This is for reference only - the binding comes from wrangler.toml
D1_DATABASE_ID="8883f49a-44f7-423f-8e0f-5e3e7db8daaf"

# ------------------------------------------------------------------------------
# KV Namespace (Optional)
# ------------------------------------------------------------------------------
# KV namespace ID for caching, sessions, etc.
# Uncomment and set when you enable KV in wrangler.toml
# KV_NAMESPACE_ID="__YOUR_KV_NAMESPACE_ID__"

# ------------------------------------------------------------------------------
# R2 Storage (Optional)
# ------------------------------------------------------------------------------
# R2 bucket name for file uploads
# Uncomment and set when you enable R2 in wrangler.toml
# R2_BUCKET_NAME="baas-uploads"

# ------------------------------------------------------------------------------
# Durable Objects (Optional)
# ------------------------------------------------------------------------------
# Enable when using Durable Objects
# Set durableObjects.enabled: true in manifest.yaml
# DURABLE_OBJECTS_ENABLED="false"

# ==============================================================================
# API Configuration
# ==============================================================================
# API version prefix
API_VERSION="v1"

# Rate limiting (requests per minute)
RATE_LIMIT_AUTHENTICATED="100"
RATE_LIMIT_ANONYMOUS="20"

# Default pagination
PAGINATION_DEFAULT_LIMIT="20"
PAGINATION_MAX_LIMIT="100"

# ==============================================================================
# CORS Configuration
# ==============================================================================
# Comma-separated list of allowed origins
# Use "*" for development only; specify exact origins in production
CORS_ALLOWED_ORIGINS="*"

# ==============================================================================
# Feature Flags
# ==============================================================================
# These should match your manifest.yaml configuration
FEATURE_AUTH_ENABLED="true"
FEATURE_DURABLE_OBJECTS_ENABLED="false"
FEATURE_REALTIME_ENABLED="false"
FEATURE_STORAGE_ENABLED="false"
FEATURE_CRON_ENABLED="false"
